# TIL | 2025.03.26

## ğŸ“Œ TIL ìš”ì•½

### ì•Œê³ ë¦¬ì¦˜

-   ìë£Œêµ¬ì¡° (í•´ì„¤ ê°•ì˜ ë“£ê¸°)
-   ì •ë ¬(5 ~ )

### ì£¼ì‹œ

-   ì œê³µí•´ì¤€ ì½”ë“œì—ì„œëŠ” êµ¬ë…ê³¼ sendê°€ urlì´ ë‹¬ëìŒ
-   ê·¸ë¦¬ê³  êµ¬ë…í•œê²ƒë„ ê²½ë¡œê°€ ì´ìƒí–ˆìŒ ì „ì²´ ì‘ì›ìˆ˜ë¥¼ ë°›ì•„ì˜¤ì§€ ëª»í•˜ëŠ” protest/cheer ì´ëŸ°ì‹ìœ¼ë¡œ í˜„ì¬ Protest/cheer/\* ì´ë ‡ê²Œ í•´ì£¼ë‹ˆ ë¨

### ìŠ¤ë§ˆê²Œ

-   íšŒì˜
    -   í”„ë¡ íŠ¸ ë¸Œëœì¹˜ ë³‘í•©í•´ë‘ 
    -   ë¡œê·¸ì¸ ì´ë©”ì¼ ë¶€ë¶„ ë¦¬íŒ©í† ë§ í•„ìš”
    -   ì±„íŒ… ë¶€ë¶„ì€ ì¬ê°œë°œ ì˜ˆì •
    -   ì‘ì—… ìˆœì„œ ì •í•´ì•¼í•¨

# TIL ìƒì„¸

## ì•Œê³ ë¦¬ì¦˜

-   ìë£Œêµ¬ì¡° (ìŠ¤íƒ í ë§ˆë¬´ë¦¬ : í•´ì„¤ ê°•ì˜ ì‹œì²­)
    -   4 ~ 8

### ì£¼ì‹œ

-   ì œê³µí•´ì¤€ ì½”ë“œì—ì„œëŠ” êµ¬ë…ê³¼ sendê°€ urlì´ ë‹¬ëìŒ
-   ê·¸ë¦¬ê³  êµ¬ë…í•œê²ƒë„ ê²½ë¡œê°€ ì´ìƒí–ˆìŒ ì „ì²´ ì‘ì›ìˆ˜ë¥¼ ë°›ì•„ì˜¤ì§€ ëª»í•˜ëŠ” protest/cheer ì´ëŸ°ì‹ìœ¼ë¡œ í˜„ì¬ Protest/cheer/\* ì´ë ‡ê²Œ í•´ì£¼ë‹ˆ ë¨

### ìŠ¤ë§ˆê²Œ

-   íšŒì˜
    -   í”„ë¡ íŠ¸ ë¸Œëœì¹˜ ë³‘í•©í•´ë‘ 
    -   ë¡œê·¸ì¸ ì´ë©”ì¼ ë¶€ë¶„ ë¦¬íŒ©í† ë§ í•„ìš”
    -   ì±„íŒ… ë¶€ë¶„ì€ ì¬ê°œë°œ ì˜ˆì •
    -   ì‘ì—… ìˆœì„œ ì •í•´ì•¼í•¨

## ê°œì¸ ê³µë¶€

### ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

-   ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë€?
    -   ì—¬ëŸ¬ ê³³ì—ì„œ ë°˜ë³µì ìœ¼ë¡œ í™œìš©í•  ìˆ˜ ìˆëŠ” ë…ë¦½ì ì¸ UI ì¡°ê°
    -   ì´ëŸ¬í•œ ì»´í¬ë„ŒíŠ¸ëŠ” **Props**ë¥¼ í†µí•´ í•„ìš”í•œ ë°ì´í„°ë¥¼ ë°›ê³  ë™ì‘ì„ ì œì–´í•˜ë„ë¡ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì„¤ê³„í•œë‹¤.(propsê°€ ì»´í¬ë„ŒíŠ¸ì˜ ì„±ê²©ì„ ì¢Œìš°í•œë‹¤)
    -   ì»´í¬ë„ŒíŠ¸ë¥¼ ì„¤ê³„í• ë•ŒëŠ” ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ë”°ë¥´ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤.
        -   í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ëŠ” í•œ ê°€ì§€ ì—­í• ì´ë‚˜ ì±…ì„ë§Œ ê°€ì§€ë„ë¡ ìµœëŒ€í•œ ì‘ê²Œ ë§Œë“¤ì–´ì•¼í•œë‹¤ - ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°í•©í•˜ì—¬ ë³µí•© ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“¤ì–´ì„œ ì‚¬ìš©
            > Reactì˜ ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜ëŠ” ì½”ë“œ ì¬ì‚¬ìš©ë¿ë§Œ ì•„ë‹ˆë¼ ì—­í• ì˜ ë¶„ë¦¬ì™€ ëª¨ë“ˆì‹ ì„¤ê³„ë¥¼ ì¥ë ¤í•©ë‹ˆë‹¤. ê²¬ê³ í•œ ë””ë ‰í† ë¦¬ êµ¬ì¡°ë¥¼ ìƒì„±í•˜ê³  ë‹¨ì¼ ì±…ì„ ì›ì¹™ì„ ì¤€ìˆ˜í•¨ìœ¼ë¡œì¨ Reactë¥¼ ì‚¬ìš©í•˜ì—¬ ë³µì¡í•˜ê³  í™•ì¥ ê°€ëŠ¥í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬ì¶•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    -   Reactì—ì„œ propsë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ 
        1. ë°ì´í„° íë¦„ : ë‹¨ë°©í–¥ì  íë¦„ì´ë¼ ë””ë²„ê¹…ì´ë‚˜ í…ŒìŠ¤íŠ¸ì‹œì— ìœ ìš©
        2. ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì„± : ë™ì¼í•œ ì»´í¬ë„ŒíŠ¸ì— ë‹¤ë¥¸ ë°ì´í„°ë¥¼ ì „ë‹¬í•¨ìœ¼ë¡œì¨ ì»´í¬ë„ŒíŠ¸ë¥¼ ë™ì ì´ê³  ì¬ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“¬
        3. ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ : Propsë¥¼ ì‚¬ìš©í•˜ë©´ ì»´í¬ë„ŒíŠ¸ê°€ ë” ë…ë¦½ì ì´ê³  ìºìŠí™”ëœ í˜•íƒœê°€ë¨ ì»´í¬ë„ŒíŠ¸ëŠ” ì•±ì˜ ìƒíƒœë¥¼ ì•Œ í•„ìš”ê°€ ì—†ì´ ìì‹ ì˜ ë°ì´í„°ë¥¼ í‘œì‹œí•˜ê³  ìì²´ ìƒíƒœë¥¼ ì²˜ë¦¬í•˜ëŠ” ë° ì§‘ì¤‘í•  ìˆ˜ ìˆìŒ
        4. ì»´í¬ë„ŒíŠ¸ê°„ í†µì‹ 
    -   HOC

# ì£¼ì‹œ

## ë¦¬ì—‘íŠ¸ ìƒëª…ì£¼ê¸°ë¥¼ ê³ ë ¤í•œ ì†Œì¼“ í•¸ë“¤ë§

-   ì†Œì¼“ì„ êµ¬í˜„í•´ ë³¸ì ì€ ìˆì§€ë§Œ ê¸°ëŠ¥êµ¬í˜„ì— ê¸‰ê¸‰í•´ ë¦¬ì—‘íŠ¸ì—ì„œ ì–´ë–»ê²Œ í•¸ë“¤ë§í•˜ëŠ”ê²Œ ì¢‹ì„ì§€ ë“± ë” ì¢‹ì€ ë°©ì‹ì„ ê³ ë¯¼í•˜ë©´ì„œ ì‘ì„±í•˜ì§„ ëª»í–ˆì—ˆë‹¤. ê·¸ëŸ° ë¬¸ì œë¥¼ ì´ë²ˆì— í•´ê²°í•´ ë³´ë ¤ê³ í•œë‹¤.
-   í˜„ì¬ ìš”êµ¬ì‚¬í•­
    -   ì‹œìœ„ ìƒì„¸ í˜ì´ì§€ì—ì„œ A ìœ ì €ê°€ ì‘ì›í•˜ê¸° ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤
    -   ì„œë¹„ìŠ¤ í™ˆ(ì—¬ëŸ¬ê°€ì§€ ì‹œìœ„ë“¤ì´ ë³´ì´ëŠ”)ì— ìˆë˜ Bìœ ì €ì—ê²Œ ì‹¤ì‹œê°„ìœ¼ë¡œ Aìœ ì €ê°€ ì‘ì›í•˜ê¸°ë¥¼ ëˆ„ë¥¸ ì‹œìœ„ ë§ˆì»¤ ìœ„ì— ì´ëª¨ì§€ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë‚˜íƒ€ë‚˜ì•¼í•œë‹¤.
-   ìš°ë¦¬ëŠ” ê·¸ ê¸°ëŠ¥ì„ ìœ„í•´ì„œ ê³ ë¯¼ê³¼ ë…¼ì˜ ëì— STOMPì™€ SockJsë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í•˜ì˜€ë‹¤.

---

### í˜„ì¬ ì‘ì„±í•œ ë¡œì§

-   í˜„ì¬ëŠ” `useState`ë¥¼ í†µí•´ ìƒíƒœë¥¼ ê´€ë¦¬í–ˆë‹¤.
-   í•˜ì§€ë§Œ `useRef`ë¥¼ ì‚¬ìš©í•˜ë©´ ë¦¬ë Œë”ë§ê³¼ ë¬´ê´€í•˜ê²Œ ê°’ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ì•Œê³  ìˆì—ˆê³ , **ë¦¬ë Œë”ë§ê³¼ ìƒëª…ì£¼ê¸° ì‚¬ì´ì˜ ê´€ê³„ë¥¼ ì§ì ‘ ê²½í—˜í•˜ê³  ì´í•´**í•˜ê¸° ìœ„í•´ ì˜ë„ì ìœ¼ë¡œ `useState`ë§Œì„ ì‚¬ìš©í•˜ì—¬ ì†Œì¼“ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ë‹¤.
-   ê·¸ ë‹¤ìŒì€ refë¥¼ ì‚¬ìš©í•´ì„œ í•´ë³´ì•˜ë‹¤. ë‹¹ì—°í•œ ë§ì´ì§€ë§Œ refëŠ” ë Œë”ë§ì— ì˜í–¥ì„ ë¼ì¹˜ì§€ ì•Šì•„ì„œ ì‹¤íŒ¨í–ˆë‹¤.
-   ê·¸ë˜ì„œ ì†Œì¼“ ì—°ê²° ìƒíƒœë¥¼ ì €ì¥í•  stateì™€ ì†Œì¼“ì„ ë‹¤ë£° refë¥¼ ê°™ì´ ì‚¬ìš©í•˜ì˜€ê³  contextë¥¼ í™œìš©í•˜ì—¬ ë³´ë‹¤ ê¹”ë”í•˜ê²Œ ë¡œì§ì„ ê°€ì ¸ê°”ë‹¤.

---

### ê³µìœ íšŒìš©

-   ë„¥ìŠ¤íŠ¸ ë‹¹ì¥ ì—…ë°ì´íŠ¸ í•´ì•¼í•¨

    -   next startì™€ output: 'standalone'ì„ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ìì²´ í˜¸ìŠ¤íŒ… Next.js ë°°í¬ëŠ” ì¦‰ì‹œ ì—…ë°ì´íŠ¸í•  ê²ƒì„ ê¶Œì¥í•¨.
    -   ë„¥ìŠ¤íŠ¸ì—ì„œ í˜ì´ì§€ ë¼ìš°í„°ë‚˜ ì•±ë¼ìš°í„° ì•ë‹¨ì—ì„œ ë¯¸ë“¤ì›¨ì–´ë¥¼ ë§ì´ ì‚¬ìš©í•˜ëŠ”ë° x-middleware-suvrequestë¼ëŠ” í—¤ë”ë¥¼ (íŠ¹ì • ë¬¸ìì—´ ìˆê¸´í•¨) í•˜ë©´ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì œê»´ë²„ë¦´ìˆ˜ê°€ ìˆì–´ì„œ ìµœì‹ ë²„ì „ìœ¼ë¡œ ì—…ë°ì´íŠ¸ ê¶Œì¥

    -   ì˜í–¥ ë²”ìœ„
        -   ì˜í–¥ì„ ë°›ëŠ” ê²½ìš°
            -   ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ìì²´ í˜¸ìŠ¤íŒ… Next.js ì• í”Œë¦¬ì¼€ì´ì…˜ (next startì™€ output: 'standalone')
            -   ì¸ì¦ ë˜ëŠ” ë³´ì•ˆ ê²€ì‚¬ë¥¼ ìœ„í•´ ë¯¸ë“¤ì›¨ì–´ì— ì˜ì¡´í•˜ëŠ” ê²½ìš°
            -   Cloudflareë¥¼ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê´€ë¦¬í˜• WAF ê·œì¹™ì„ í™œì„±í™”í•  ìˆ˜ ìˆìŒ
        -   ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ” ê²½ìš°
            -   Vercelì— í˜¸ìŠ¤íŒ…ëœ ì• í”Œë¦¬ì¼€ì´ì…˜
            -   Netlifyì— í˜¸ìŠ¤íŒ…ëœ ì• í”Œë¦¬ì¼€ì´ì…˜
            -   ì •ì  ë‚´ë³´ë‚´ê¸°ë¡œ ë°°í¬ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ (ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰ë˜ì§€ ì•ŠìŒ)
    -   íŒ¨ì¹˜ëœ ë²„ì „

        -   Next.js 15.x: 15.2.3ì—ì„œ ë¬¸ì œ í•´ê²°ë¨
        -   Next.js 14.x: 14.2.25ì—ì„œ ë¬¸ì œ í•´ê²°ë¨
        -   Next.js 13.x: 13.5.9ì—ì„œ ë¬¸ì œ í•´ê²°ë¨
        -   Next.js 12.x: 12.3.5ì—ì„œ ë¬¸ì œ í•´ê²°ë¨
        -   ì•ˆì „í•œ ë²„ì „ìœ¼ë¡œ íŒ¨ì¹˜ê°€ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°, ì™¸ë¶€ ì‚¬ìš©ì ìš”ì²­ì´ x-middleware-subrequest í—¤ë”ë¥¼ í¬í•¨í•˜ì§€ ì•Šë„ë¡ ë°©ì§€í•  ê²ƒì„ ê¶Œì¥í•¨

    -   ì¶œì²˜
        -   https://news.hada.io/topic?id=19922
        -   https://www.youtube.com/shorts/ZISGdPE69rA

### setState í›„ì— ê°’ì´ ì•ˆ ë°”ë€ŒëŠ” ë” ì •í™•í•œ ì´ìœ 

-   ì…‹ ìŠ¤í…Œì´íŠ¸ê°€ íë‹¤ ë¹„ë™ê¸°ë‹¤ ì´ëŸ° ë¬¸ì œê°€ ì•„ë‹˜ const stateì´ê¸°ì— ì•ˆë°”ë€ŒëŠ”ê²Œ ë§ìŒ

```ts
const [state, setState];
```

-   ìŠ¤ì½”í”„ë‚˜ í´ë¡œì € ê·¸ëŸ° ë¬¸ì œë¡œ ë°”ë¼ë³´ëŠ”ê²Œ ë§ë‹¤, constë‹ˆ í•¨ìˆ˜ê°€ ë‹¤ì‹œ ì‹¤í–‰ë ë•Œ ë‹¤ì‹œ í• ë‹¹ë¨
-   ê²°ë¡  : setStateë¥¼ í†µí•´ ë¦¬ë Œë”ë§ ì˜ˆì•½ì„ ê±¸ì—ˆë‹¤ê°€ ë¦¬ë Œë”ë§, ì¦‰ ê·¸ ì»´í¬ë„ŒíŠ¸ í•¨ìˆ˜ê°€ ì¬ì‹¤í–‰ë  ë•Œ í´ë¡œì €ë¡œ êµ¬ì„±ëœ useState ë‚´ë¶€ì˜ ì€ë‹‰ëœ ë³€ìˆ˜ê°€ ë³€ê²½ë˜ê³  ê·¸ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê³  ìˆë˜ stateë¼ëŠ” ìƒìˆ˜ê°€ ë³€í™”ë˜ëŠ”ê²ƒ

### Prettier format on save ê¸°ëŠ¥ì´ ê¸‰ê²©í•˜ê²Œ ëŠë ¤ì§€ëŠ” í˜„ìƒ

-   í¬ë©”íŒ…í•´ì•¼í•  íŒŒì¼ì´ ë„ˆë¬´ ë§ì•„ì„œë¼ëŠ”ê±¸ ì¸ì§€
-   ì‹œë„ ë°©ë²•
    1.  .prettierignore (ì•ˆë¨)
    2.  tsconfig.json(íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œ ë³€í™˜ ì‹œí‚¤ëŠ” ì»´íŒŒì¼ ì„¤ì •ì„ í•œêº¼ë²ˆì— ì •ì˜ í•´ë†“ëŠ” íŒŒì¼) ì—ì„œ .next ì œì™¸ ì¶”ê°€(ì„±ê³µ)
-   ë‹¤ë¥¸ ì‚¬ëŒë“¤ ë‹¤ì–‘í•œ ë°©ë²•
    -   ìµìŠ¤í…ì…˜ ì‚­ì œ(auto import ì‚­ì œ ë“±ë“±)
    -   > UPDATE: FOUND THE ISSUE : VSCode recently updated to their August version release, I rolled it back to the July release and it is working now as normal
    -   vite ì“°ë‹ˆ ë¨
    -   í”„ë¦¬í‹°ì–´ ë²„ì „ ë‹¤ìš´ê·¸ë ˆì´ë“œí•´ë¼
-   ì°¸ì¡°
    -   https://www.reddit.com/r/nextjs/comments/1fcm3o5/prettier_nextjs_extremely_slow_format_on_save/
    -   https://github.com/vercel/next.js/discussions/48258

# íŠ¹ê°• ë³µê¸°

### ğŸ”· `d.ts`ì™€ íƒ€ì… ì •ì˜

-   ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” **TypeScriptë¡œ ì§ì ‘ ì œê³µë˜ëŠ” ê²½ìš°**ì™€ **JavaScriptë§Œ ì œê³µë˜ëŠ” ê²½ìš°**ê°€ ìˆì–´ìš”.
    -   ì˜ˆ: `axios`ëŠ” `.d.ts` í¬í•¨ëœ TypeScript ì§€ì› ë¼ì´ë¸ŒëŸ¬ë¦¬.
-   JavaScript ê¸°ë°˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ TypeScriptì—ì„œ ì‚¬ìš©í•  ë•Œ ë¬¸ì œì :
    -   íƒ€ì… ì •ì˜ íŒŒì¼ì´ ì—†ìœ¼ë©´, TypeScriptëŠ” í•´ë‹¹ ëª¨ë“ˆì„ `any`ë¡œ ê°„ì£¼í•´ì„œ **íƒ€ì… ì•ˆì „ì„±**ì´ ì‚¬ë¼ì§.
    -   í•´ê²° ë°©ë²•:
        -   **DefinitelyTyped** ì €ì¥ì†Œì— ìˆëŠ” íƒ€ì… íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•´ì•¼ í•´ìš”.  
            ì˜ˆ:
            ```bash
            npm install --save-dev @types/lodash
            ```
            -   `@types/íŒ¨í‚¤ì§€ëª…` í˜•íƒœë¡œ ë˜ì–´ ìˆìŒ.
        -   í˜¹ì€ ì§ì ‘ `.d.ts` íŒŒì¼ì„ ë§Œë“¤ì–´ì„œ **íƒ€ì… ì„ ì–¸**í•  ìˆ˜ë„ ìˆìŒ.

#### ğŸ§  ê´€ë ¨ ê°œë… ë³´ì¶©

-   **`.d.ts`**: íƒ€ì… ì„ ì–¸ ì „ìš© íŒŒì¼ (Declaration File)
    -   í•¨ìˆ˜, í´ë˜ìŠ¤, ê°ì²´ ë“± **íƒ€ì…ë§Œ ì •ì˜**í•˜ê³  ì‹¤ì œ êµ¬í˜„ì€ ì—†ìŒ.
-   **`tsconfig.json`ì˜ typeRoots, types ì„¤ì •**ë„ ì°¸ê³ :
    ```json
    {
        "compilerOptions": {
            "typeRoots": ["./node_modules/@types", "./types"]
        }
    }
    ```
    â†’ ì»¤ìŠ¤í…€ íƒ€ì… ì •ì˜ë¥¼ ì°¾ì„ ìˆ˜ ìˆë„ë¡ ê²½ë¡œ ì§€ì • ê°€ëŠ¥.
-   ë¼ì´ë¸ŒëŸ¬ë¦¬ì— íƒ€ì…ì´ ì—†ì„ ë•, `any`ë¡œ ì¶”ë¡ ë˜ë¯€ë¡œ IDE ìë™ì™„ì„±ë„ ì•ˆ ë˜ê³ , **ë²„ê·¸ ê°€ëŠ¥ì„± ì¦ê°€**.

### ğŸŸ¦ ë¬¸ì œ ìƒí™© ì˜ˆì‹œ ì •ë¦¬

-   ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í–ˆëŠ”ë° íƒ€ì…ì´ ì ìš© ì•ˆ ë¨.
    -   `tsconfig` ìˆ˜ì •í•´ë´„ â†’ ì•ˆ ë¨.
    -   ë¼ì´ë¸ŒëŸ¬ë¦¬ ì½”ë“œ íƒ€ê³  ë“¤ì–´ê°”ëŠ”ë° `.d.ts` ì—†ìŒ.
    -   ë¬¸ì„œì—ëŠ” ìˆë‹¤ê³  í–ˆëŠ”ë° ì‹¤ì œë¡œëŠ” êµ¬ë²„ì „ì´ë¼ ë¹ ì ¸ ìˆì—ˆìŒ.
    -   ê²°êµ­ â†’ **ë¼ì´ë¸ŒëŸ¬ë¦¬ ìì²´ì˜ íƒ€ì… ì§€ì› ë¬¸ì œ**ì˜€ìŒ.

---

### ğŸ”¶ í—˜ë¸” ê°ì²´ íŒ¨í„´ (Humble Object Pattern)

> í…ŒìŠ¤íŠ¸í•˜ê¸° ì–´ë ¤ìš´ ë¡œì§ê³¼ UI/IO ì²˜ë¦¬ë¥¼ ë¶„ë¦¬í•˜ëŠ” íŒ¨í„´

-   **SOLID ì›ì¹™** ì¤‘ ì¼ë¶€ì™€ ê´€ë ¨ ê¹ŠìŒ:
    -   **ì˜ì¡´ì„± ì—­ì „ ì›ì¹™ (DIP)**: ê³ ìˆ˜ì¤€ ëª¨ë“ˆì´ ì €ìˆ˜ì¤€ êµ¬í˜„ì— ì˜ì¡´í•˜ì§€ ì•Šë„ë¡ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ì´ì— ë‘ .
    -   **ë‹¨ì¼ ì±…ì„ ì›ì¹™ (SRP)**: í•˜ë‚˜ì˜ ê°ì²´ê°€ í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°–ê²Œ í•¨.
-   **ë‹¤í˜•ì„±(Polymorphism)**ì„ ì´ìš©í•´ì„œ ê°ì²´ê°„ì˜ ì˜ì¡´ì„±ì„ ëŠìŠ¨í•˜ê²Œ í•˜ê³ ,
    -   ë¦¬ì•¡íŠ¸ì—ì„œëŠ” ì´ê±¸ **ì»´í¬ì§€ì…˜(Composition)**ìœ¼ë¡œ ë§ì´ êµ¬í˜„í•¨.

#### ğŸ§  í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì–´ë–»ê²Œ ì ìš©?

-   ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ê°€ ì™¸ë¶€ APIë‚˜ ë³µì¡í•œ ë¡œì§ì„ ì§ì ‘ ë‹¤ë£¨ë©´ í…ŒìŠ¤íŠ¸ê°€ ì–´ë ¤ì›€.
    -   â†’ `í—˜ë¸” ì»´í¬ë„ŒíŠ¸`: UIë§Œ ë‹´ë‹¹
    -   â†’ `ë¡œì§ ë¶„ë¦¬`: ìƒíƒœ/ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì»¤ìŠ¤í…€ í›…, ì„œë¹„ìŠ¤ ê°ì²´ë¡œ ë¶„ë¦¬
-   ì˜ˆì‹œ:

    ```tsx
    // UIë§Œ ë‹´ë‹¹í•˜ëŠ” í—˜ë¸” ì»´í¬ë„ŒíŠ¸
    const LoginForm = ({ onSubmit }: { onSubmit: (data: FormData) => void }) => { ... }

    // ë¡œì§ì€ ë”°ë¡œ ë¶„ë¦¬
    const useLogin = () => {
      const login = async (data: FormData) => {
        // API ìš”ì²­
      };
      return { login };
    };
    ```

---

# React Fiber ì–•ê²Œ ì•Œì•„ë³´ê¸°

## React Fiberë€?

-   React v16ì—ì„œ ë„ì…ëœ **ìƒˆë¡œìš´ Reconciliation(ì¬ì¡°ì •) ì—”ì§„**
-   ê¸°ì¡´ Stack ê¸°ë°˜ì—ì„œ **Fiber êµ¬ì¡°**ë¡œ ë³€ê²½
-   ëª©í‘œ:
    -   ì• ë‹ˆë©”ì´ì…˜, ì œìŠ¤ì²˜, ë ˆì´ì•„ì›ƒ ë“±ì˜ ë³µì¡í•œ UI ì²˜ë¦¬
    -   ë‹¤ì–‘í•œ ì—…ë°ì´íŠ¸ì— ëŒ€í•´ **ìš°ì„ ìˆœìœ„ ë¶€ì—¬ ë° ì¤‘ë‹¨/ì¬ì‚¬ìš© ê°€ëŠ¥**
    -   ë Œë”ë§ì„ **ì‘ì€ ì‘ì—… ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ì–´** í”„ë ˆì„ì— ë‚˜ëˆ ì„œ ì²˜ë¦¬

---

## í•µì‹¬ ê°œë…ë“¤

### Virtual DOM

-   ì‹¤ì œ DOMì˜ **ë©”ëª¨ë¦¬ìƒ í‘œí˜„**
-   render í•¨ìˆ˜ í˜¸ì¶œ â†’ Virtual DOM ìƒì„± â†’ ì´ì „ íŠ¸ë¦¬ì™€ ë¹„êµ â†’ ë³€ê²½ì  ê³„ì‚° â†’ ì‹¤ì œ DOM ì—…ë°ì´íŠ¸

---

### Reconciliation(ì¬ì¡°ì •)

-   Reactê°€ ë³€í™”ëœ íŠ¸ë¦¬ë¥¼ **ì´ì „ íŠ¸ë¦¬ì™€ ë¹„êµ(diff)** í•˜ì—¬ ë³€ê²½ ì‚¬í•­ë§Œ íš¨ìœ¨ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ê³¼ì •
-   **typeì´ ë‹¤ë¥´ë©´** ì´ì „ íŠ¸ë¦¬ ë²„ë¦¬ê³  ìƒˆë¡œ ë Œë”
-   **keyë¥¼ í†µí•´** ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ ì¶”ì  (keyëŠ” ë°˜ë“œì‹œ ê³ ìœ í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•´ì•¼ í•¨)

---

### Rendering vs Reconciliation

-   **Reconciliation**: ì–´ë–¤ ë³€í™”ê°€ ìˆëŠ”ì§€ ê³„ì‚° (diff ê³¼ì •)
-   **Rendering**: ë³€í™”ëœ ë‚´ìš©ì„ ì‹¤ì œ DOMì— ì ìš©

> ì¦‰, Reconcilerì™€ RendererëŠ” ë¶„ë¦¬ë˜ì–´ ë™ì‘í•˜ë©°, ì´ êµ¬ì¡° ë•ë¶„ì— React DOMê³¼ React Nativeë„ ê°™ì€ Coreë¥¼ ê³µìœ  ê°€ëŠ¥í•¨

---

## Fiberì˜ ì‘ë™ ì›ë¦¬

### Fiberë€?

-   FiberëŠ” í•˜ë‚˜ì˜ **ì‘ì—… ë‹¨ìœ„(unit of work)** ì´ì, Virtual DOMì„ í‘œí˜„í•˜ëŠ” **JS ê°ì²´**
-   ê¸°ì¡´ Stack Frameì˜ ì—­í• ì„ **ë©”ëª¨ë¦¬ì— ë³´ì¡´í•˜ê³  ì œì–´ ê°€ëŠ¥**í•˜ë„ë¡ í•œ êµ¬ì¡°

### Fiberì˜ ì—­í• 

-   ë Œë”ë§ ê³¼ì •ì„ ë‚˜ëˆ ì„œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•¨
-   ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³ , ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ë‚˜ì¤‘ì— ë‹¤ì‹œ ì‹œì‘ ê°€ëŠ¥
-   í•„ìš” ì—†ëŠ” ì‘ì—…ì€ ì¤‘ë‹¨í•˜ê³  ì´ì „ ì‘ì—…ì„ ì¬ì‚¬ìš© ê°€ëŠ¥

---

## Fiber êµ¬ì¡° ì£¼ìš” í•„ë“œ

| í•„ë“œëª…          | ì„¤ëª…                                         |
| --------------- | -------------------------------------------- |
| `type`          | ì»´í¬ë„ŒíŠ¸ íƒ€ì… or DOM íƒœê·¸                    |
| `key`           | ë¦¬ìŠ¤íŠ¸ ë Œë”ë§ ì‹œ ê³ ìœ í•œ ì‹ë³„ì               |
| `child`         | ì²« ë²ˆì§¸ ìì‹ Fiber                           |
| `sibling`       | í˜•ì œ Fiber                                   |
| `return`        | ë¶€ëª¨ Fiber                                   |
| `pendingProps`  | ìƒˆë¡œ ë“¤ì–´ì˜¨ props (render ì‹œì‘ ì‹œì ì˜ props) |
| `memoizedProps` | ì´ì „ ë Œë”ì—ì„œ ì‚¬ìš©ëœ props                   |
| `memoizedState` | ì´ì „ ë Œë”ì—ì„œ ê³„ì‚°ëœ state                   |
| `alternate`     | í˜„ì¬ Fiberì˜ ì´ì „ ë²„ì „ (ì´ì¤‘ ë²„í¼ë§ ìš©ë„)    |
| `output`        | render ê²°ê³¼, ì‹¤ì œ DOM ìš”ì†Œ ë“±                |
| `updateQueue`   | ì—…ë°ì´íŠ¸ í                                  |
| `nextEffect`    | íš¨ê³¼ ì²˜ë¦¬ ëŒ€ìƒ Fiber                         |

---

## ì‘ë™ ë°©ì‹ ìš”ì•½

1. UI ì—…ë°ì´íŠ¸ ë°œìƒ(setState ë“±)
2. **ìƒˆ Fiber íŠ¸ë¦¬ ìƒì„±**
3. **ê¸°ì¡´ Fiberì™€ ë¹„êµ(diff)**
4. ë³€ê²½ì  ê³„ì‚° í›„ commit ë‹¨ê³„ì—ì„œ DOM ì—…ë°ì´íŠ¸

---

## ìŠ¤ì¼€ì¤„ë§ ê´€ë ¨ API

| API                       | ì„¤ëª…                                                |
| ------------------------- | --------------------------------------------------- |
| `requestAnimationFrame()` | **ë†’ì€ ìš°ì„ ìˆœìœ„** ì‘ì—… ì²˜ë¦¬                         |
| `requestIdleCallback()`   | **ë‚¨ëŠ” ì‹œê°„**ì— ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ì‘ì—… (ë‚®ì€ ìš°ì„ ìˆœìœ„) |

## ì—°ê´€ í‚¤ì›Œë“œ

| ê°œë…            | ì„¤ëª…                                                        |
| --------------- | ----------------------------------------------------------- |
| `@types`        | DefinitelyTypedì—ì„œ ì œê³µí•˜ëŠ” íƒ€ì… ì •ì˜ íŒ¨í‚¤ì§€               |
| `.d.ts`         | íƒ€ì…ë§Œ ì„ ì–¸í•˜ê³  êµ¬í˜„ì€ ì—†ëŠ” íŒŒì¼                            |
| `tsconfig.json` | íƒ€ì… ì ìš© ê²½ë¡œ ë° ì˜µì…˜ ì„¤ì •                                 |
| Composition     | ì»´í¬ë„ŒíŠ¸ë¥¼ ì¡°í•©í•´ì„œ ê¸°ëŠ¥ í™•ì¥ (ë¦¬ì•¡íŠ¸ì—ì„œ ë‹¤í˜•ì„± êµ¬í˜„ ë°©ì‹) |
| ì»¤ìŠ¤í…€ í›…       | ë¡œì§ ì¬ì‚¬ìš© ë° ë¶„ë¦¬ ê°€ëŠ¥, í…ŒìŠ¤íŠ¸ ìš©ì´                       |
| SOLID ì›ì¹™      | OOP ì„¤ê³„ ì›ì¹™ (íŠ¹íˆ DIP, SRPì™€ ì—°ê´€ ê¹ŠìŒ)                   |
| Humble Object   | í…ŒìŠ¤íŠ¸ ì–´ë ¤ìš´ ë¶€ë¶„ ë¶„ë¦¬, UIì™€ ë¡œì§ ì±…ì„ ë¶„ë¦¬                |
| React Fiber     | React v16ì—ì„œ ë„ì…ëœ \*\*ìƒˆë¡œìš´ Reconciliation(ì¬ì¡°ì •) ì—”ì§„ |

---

# íŠ¹ê°•

-   d.ts

    -   ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì œê³µí•œë‹¤ê³  í•˜ë©´, tsë¡œ ì œê³µë˜ëŠ” ê²ƒë“¤ë„ ìˆê³  jsë¡œ ì œê³µë˜ëŠ” ê²ƒë“¤ì´ ìˆìŒ
        -   jsë¡œ ì œê³µë˜ëŠ”ê±¸ tsì—ì„œ ì“¸ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í•˜ë‚˜
        -   typescriptì—ì„œ ì“°ë ¤ë©´ d.ts ì¨ì¤˜ì•¼í•¨ ì•ˆì“°ë©´ anyë¡œ ë‚˜ì˜´ (íƒ€ì… ì •ì˜ë§Œ ìˆëŠ” íŒŒì¼)
        -   íƒ€ì…ìŠ¤í¬ë¦½íŠ¸ê°€ d.tsë¥¼ ì½ê³  ì ìš©
            -   d.tsë¥¼ ëª»ì½ë„¤
                -   ts.configë¥¼ ë°”ê¿”ë´„ -> ì•ˆë¨
                -   ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì—†ëŠ”ê±° ì•„ë‹Œê°€
                -   ê·¸ë˜ì„œ íƒ€ê³  ë“¤ì–´ê° (ê·¼ë° ì—†ìŒ)
                -   ë¬¸ì„œì—ëŠ” ìˆì—ˆìŒ
                -   ê²°êµ­ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì˜ˆì „ ë¬¸ì œ

-   í—˜ë¸” ê°ì²´ íŒ¨í„´
    -   solid
    -   ì˜ì¡´ì„± ì—­ì „
    -   ë‹¤í˜•ì„±
    -   ë¦¬ì—‘íŠ¸ì—ì„œëŠ” ë‹¤í˜•ì„±ì„ compositionì„ í†µí•´ì„œ ì‹¤í˜„í•œë‹¤.

## ğŸ“Œ ì°¸ê³  ë§í¬

-   [React Fiber Architecture](https://github.com/acdlite/react-fiber-architecture)
-   [React Internal Types](https://github.com/facebook/react/blob/main/packages/react-reconciler/src/ReactInternalTypes.js)
-   [Alibaba Cloud Fiber Explanation](https://www.alibabacloud.com/blog/a-closer-look-at-react-fiber_598138)
-   https://velog.io/@jangws/React-Fiber
